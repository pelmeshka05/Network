(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[3],{393:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",mainPhoto:"ProfileInfo_mainPhoto__1Fgjo",contact:"ProfileInfo_contact__1N3gp"}},394:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},395:function(e,t,a){e.exports={item:"Post_item__ihtu9"}},397:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),s=a(393),o=a.n(s),r=a(116);var c=e=>{let[t,a]=Object(l.useState)(!1),[s,o]=Object(l.useState)(e.status);Object(l.useEffect)(()=>{o(e.status)},[e.status]);return n.a.createElement("div",null,!t&&n.a.createElement("div",null,n.a.createElement("b",null,"Status: ")," ",n.a.createElement("span",{onDoubleClick:()=>{a(!0)}},e.status||"-------")),t&&n.a.createElement("div",null,n.a.createElement("input",{onChange:e=>{o(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{a(!1),e.updateStatus(s)},value:s})))},i=a(190),u=a.n(i),m=a(56),p=a(194),d=a(94),E=a.n(d);var f=Object(p.a)({form:"edit-profile"})(e=>{let{handleSubmit:t,profile:a,error:l}=e;return n.a.createElement("form",{onSubmit:t},n.a.createElement("div",null,n.a.createElement("button",null,"save")),l&&n.a.createElement("div",{className:E.a.formSummaryError},l),n.a.createElement("div",null,n.a.createElement("b",null,"Full name"),": ",Object(m.c)("Full name","fullName",[],m.a)),n.a.createElement("div",null,n.a.createElement("b",null,"Looking for a job"),": ",Object(m.c)("","lookingForAJob",[],m.a,{type:"checkbox"})),n.a.createElement("div",null,n.a.createElement("b",null,"My professional skills"),":",Object(m.c)("My professional skills","lookingForAJobDescription",[],m.b)),n.a.createElement("div",null,n.a.createElement("b",null,"About me"),":",Object(m.c)("About me","aboutMe",[],m.b)),n.a.createElement("div",null,n.a.createElement("b",null,"Contacts"),": ",Object.keys(a.contacts).map(e=>n.a.createElement("div",{key:e,className:o.a.contact},n.a.createElement("b",null,e,": ",Object(m.c)(e,"contacts."+e,[],m.a))))))});const b=e=>{let{profile:t,isOwner:a,goToEditMode:l}=e;return n.a.createElement("div",null,a&&n.a.createElement("div",null,n.a.createElement("button",{onClick:l},"edit")),n.a.createElement("div",null,n.a.createElement("b",null,"Full name"),": ",t.fullName),n.a.createElement("div",null,n.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&n.a.createElement("div",null,n.a.createElement("b",null,"My professional skills"),": ",t.lookingForAJobDescription),n.a.createElement("div",null,n.a.createElement("b",null,"About me"),": ",t.aboutMe),n.a.createElement("div",null,n.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map(e=>n.a.createElement(h,{key:e,contactTitle:e,contactValue:t.contacts[e]}))))},h=e=>{let{contactTitle:t,contactValue:a}=e;return n.a.createElement("div",{className:o.a.contact},n.a.createElement("b",null,t),": ",a)};var v=e=>{let{profile:t,status:a,updateStatus:s,isOwner:i,savePhoto:m,saveProfile:p}=e,[d,E]=Object(l.useState)(!1);if(!t)return n.a.createElement(r.a,null);return n.a.createElement("div",null,n.a.createElement("div",{className:o.a.descriptionBlock},n.a.createElement("img",{src:t.photos.large||u.a,className:o.a.mainPhoto}),i&&n.a.createElement("input",{type:"file",onChange:e=>{e.target.files&&e.target.files.length&&m(e.target.files[0])}}),d?n.a.createElement(f,{initialValues:t,profile:t,onSubmit:e=>{p(e).then(()=>{E(!1)})}}):n.a.createElement(b,{goToEditMode:()=>{E(!0)},profile:t,isOwner:i}),n.a.createElement(c,{status:a,updateStatus:s})))},g=a(166),P=a(394),k=a.n(P),O=a(395),j=a.n(O);var S=e=>n.a.createElement("div",{className:j.a.item},n.a.createElement("img",{src:"https://cdn-icons-png.flaticon.com/256/5077/5077628.png",alt:""}),e.message,n.a.createElement("div",null,n.a.createElement("span",null,"like")," ",e.likesCount)),y=a(114);var _=Object(p.a)({form:"profile-add-post"})(e=>n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("div",null,Object(m.c)("Your post","newPostText",[y.b],m.a)),n.a.createElement("div",null,n.a.createElement("button",null,"Add post"))));var I=n.a.memo(e=>{let t=[...e.posts].reverse().map(e=>n.a.createElement(S,{key:e.id,message:e.message,likesCount:e.likesCount}));return n.a.createElement("div",{className:k.a.postsBlock},n.a.createElement("h3",null,"My posts"),n.a.createElement(_,{onSubmit:t=>{e.addPost(t.newPostText)}}),n.a.createElement("div",{className:k.a.posts},t))}),w=a(17);var A=Object(w.b)(e=>({posts:e.profilePage.posts}),{addPost:g.a.addPostActionCreator})(I);var C=e=>n.a.createElement("div",null,n.a.createElement(v,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),n.a.createElement(A,null)),M=a(22),N=a(21);class F extends n.a.Component{refreshProfile(){let e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId,e||this.props.history.push("/login")),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}componentDidMount(){this.refreshProfile()}componentDidUpdate(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}componentWillUnmount(){}render(){return n.a.createElement(C,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}t.default=Object(N.d)(Object(w.b)(e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}),{getUserProfile:g.d,getStatus:g.c,updateStatus:g.g,savePhoto:g.e,saveProfile:g.f}),M.h)(F)}}]);
//# sourceMappingURL=3.2ee0f935.chunk.js.map